---
interface Props {
    type?: "info" | "warning" | "danger" | "tip";
    title?: string;
}

const { type = "info", title } = Astro.props;

const icons = {
    info: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>`,
    warning: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>`,
    danger: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>`,
    tip: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>`,
};

const styles = {
    info: "bg-blue/5 border-blue/20 text-blue",
    warning: "bg-yellow/5 border-yellow/20 text-yellow",
    danger: "bg-red/5 border-red/20 text-red",
    tip: "bg-green/5 border-green/20 text-green",
};
---

<div
    class={`p-5 border my-8 ring-1 ring-inset ring-transparent ${styles[type]}`}
    style="border-radius: var(--radius-sm);"
>
    <div class="flex gap-4">
        <span class="shrink-0 mt-0.5" set:html={icons[type]} />
        <div class="flex-1">
            {
                title && (
                    <h4 class="font-black mb-1.5 text-xs uppercase tracking-widest">
                        {title}
                    </h4>
                )
            }
            <div
                class="text-text/90 text-sm leading-relaxed prose-p:my-0 prose-p:leading-relaxed"
            >
                <slot />
            </div>
        </div>
    </div>
</div>
